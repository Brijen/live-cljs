var CodeMirror=function(){function l(a,b){var c,d,e;function g(i){return 0<=i&&i<m.size}function h(i){for(var a=m;!a.lines;)for(var f=0;;++f){var b=a.children[f],c=b.chunkSize();if(i<c){a=b;break}i-=c}return a.lines[i]}function B(i,a){U=!0;for(var f=a-i.height,b=i;b;b=b.parent)b.height+=f}function ta(i){var a={line:0,ch:0};Lb(a,{line:m.size-1,ch:h(m.size-1).text.length},ua(i),a,a);ba=!0}function Oa(i){var a=V[i.keyCode],f=C[j.keyMap].auto,b,c;if(null==a||i.altGraphKey){if(f)j.keyMap=f;return null}i.altKey&&
(a="Alt-"+a);i.ctrlKey&&(a="Ctrl-"+a);i.metaKey&&(a="Cmd-"+a);i.shiftKey&&(b=Mb("Shift-"+a,j.extraKeys,j.keyMap))?c=!0:b=Mb(a,j.extraKeys,j.keyMap);"string"==typeof b&&(b=eb.propertyIsEnumerable(b)?eb[b]:null);if(a=f)if(!(a=b))a=V[i.keyCode],a=!("Ctrl"==a||"Alt"==a||"Shift"==a||"Mod"==a);if(a)j.keyMap=f;if(!b)return!1;c?(f=L,L=null,b(w),L=f):b(w);z(i);return!0}function oa(){if(!j.readOnly){if(!R){if(j.onFocus)j.onFocus(w);R=!0;-1==x.className.search(/\bCodeMirror-focused\b/)&&(x.className+=" CodeMirror-focused");
va||Q(!0)}Pa();Nb()}}function fb(){if(R){if(j.onBlur)j.onBlur(w);R=!1;x.className=x.className.replace(" CodeMirror-focused","")}clearInterval(gb);setTimeout(function(){R||(L=null)},150)}function Lb(i,a,f,b,c){if(S){var d=[];m.iter(i.line,a.line+1,function(i){d.push(i.text)});for(S.addChange(i.line,f.length,d);S.done.length>j.undoDepth;)S.done.shift()}Ob(i,a,f,b,c)}function Pb(i,a){var f=i.pop();if(f){var b=[],c=f.start+f.added;m.iter(f.start,c,function(i){b.push(i.text)});a.push({start:f.start,added:f.old.length,
old:b});var d=D({line:f.start+f.old.length-1,ch:lc(b[b.length-1],f.old[f.old.length-1])});Ob({line:f.start,ch:0},{line:c-1,ch:h(c-1).text.length},f.old,d,d);ba=!0}}function Ob(i,a,f,b,e){var s=!1,g=ca.length;j.lineWrapping||m.iter(i.line,a.line,function(i){if(i.text.length==g)return s=!0});if(i.line!=a.line||1<f.length)U=!0;var t=a.line-i.line,n=h(i.line),E=h(a.line);if(0==i.ch&&0==a.ch&&""==f[f.length-1]){var k=[],n=null;i.line?(n=h(i.line-1),n.fixMarkEnds(E)):E.fixMarkStarts();for(var v=0,l=f.length-
1;v<l;++v)k.push(M.inheritMarks(f[v],n));t&&m.remove(i.line,t,wa);k.length&&m.insert(i.line,k)}else if(n==E)if(1==f.length)n.replace(i.ch,a.ch,f[0]);else{E=n.split(a.ch,f[f.length-1]);n.replace(i.ch,null,f[0]);n.fixMarkEnds(E);k=[];v=1;for(l=f.length-1;v<l;++v)k.push(M.inheritMarks(f[v],n));k.push(E);m.insert(i.line+1,k)}else if(1==f.length)n.replace(i.ch,null,f[0]),E.replace(null,a.ch,""),n.append(E),m.remove(i.line+1,t,wa);else{k=[];n.replace(i.ch,null,f[0]);E.replace(null,a.ch,f[f.length-1]);n.fixMarkEnds(E);
v=1;for(l=f.length-1;v<l;++v)k.push(M.inheritMarks(f[v],n));1<t&&m.remove(i.line+1,t-1,wa);m.insert(i.line+1,k)}if(j.lineWrapping){var r=q.clientWidth/hb()-3;m.iter(i.line,i.line+f.length,function(i){if(!i.hidden){var a=Math.ceil(i.text.length/r)||1;a!=i.height&&B(i,a)}})}else m.iter(i.line,v+f.length,function(i){i=i.text;if(i.length>g)ca=i,g=i.length,da=null,s=!1}),s&&(g=0,ca="",da=null,m.iter(0,m.size,function(i){i=i.text;if(i.length>g)g=i.length,ca=i}));E=[];t=f.length-t-1;v=0;for(k=W.length;v<
k;++v)l=W[v],l<i.line?E.push(l):l>a.line&&E.push(l+t);v=i.line+Math.min(f.length,500);mc(i.line,v);E.push(v);W=E;ib(100);F.push({from:i.line,to:a.line+1,diff:t});i={from:i,to:a,text:f};if(xa){for(f=xa;f.next;f=f.next);f.next=i}else xa=i;ya(b,e,c.line<=Math.min(a.line,a.line+t)?c.line:c.line+t,d.line<=Math.min(a.line,a.line+t)?d.line:d.line+t);N.style.height=m.height*Z()+2*u.offsetTop+"px"}function y(i,a,f){function b(c){if(H(c,a))return c;if(!H(f,c))return e;var d=c.line+i.length-(f.line-a.line)-
1,db=c.ch;c.line==f.line&&(db+=i[i.length-1].length-(f.ch-(f.line==a.line?a.ch:0)));return{line:d,ch:db}}var a=D(a),f=f?D(f):a,i=ua(i),e;J(i,a,f,function(i){e=i;return{from:b(c),to:b(d)}});return e}function za(i,a){J(ua(i),c,d,function(i){return"end"==a?{from:i,to:i}:"start"==a?{from:c,to:c}:{from:c,to:i}})}function J(i,a,f,b){b=b({line:a.line+i.length-1,ch:1==i.length?i[0].length+a.ch:i[i.length-1].length});Lb(a,f,i,b.from,b.to)}function $(i,a){var f=i.line,b=a.line;if(f==b)return h(f).text.slice(i.ch,
a.ch);var c=[h(f).text.slice(i.ch)];m.iter(f+1,b,function(i){c.push(i.text)});c.push(h(b).text.slice(0,a.ch));return c.join("\n")}function Qa(){return $(c,d)}function Pa(){jb||kb.set(j.pollInterval,function(){lb();I();R&&Pa();mb()})}function Aa(){function i(){lb();!I()&&!a?(a=!0,kb.set(60,i)):(jb=!1,Pa());mb()}var a=!1;jb=!0;kb.set(20,i)}function I(){if(va||!R||nc(r))return!1;var i=r.value;if(i==ea)return!1;L=null;for(var a=0,b=Math.min(ea.length,i.length);a<b&&ea[a]==i[a];)++a;a<ea.length?c={line:c.line,
ch:c.ch-(ea.length-a)}:nb&&p(c,d)&&(d={line:d.line,ch:Math.min(h(d.line).text.length,d.ch+(i.length-a))});za(i.slice(a),"end");ea=i;return!0}function Q(i){if(p(c,d)){if(i)ea=r.value=""}else ea="",r.value=Qa(),r.select()}function ja(){j.readOnly||r.focus()}function ra(){if(X.getBoundingClientRect){var i=X.getBoundingClientRect();if(!(Ba&&i.top==i.bottom)){var a=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(0>i.top||i.bottom>a)&&X.scrollIntoView()}}}
function na(){var a=Ca(e?c:d),b=j.lineWrapping?Math.min(a.x,u.offsetWidth):a.x;return sa(b,a.y,b,a.yBot)}function sa(a,b,f,c){var d=u.offsetLeft,e=u.offsetTop,h=Z(),b=b+e,c=c+e,a=a+d,f=f+d,g=q.clientHeight,n=q.scrollTop,d=!1,e=!0;if(b<n)q.scrollTop=Math.max(0,b-2*h),d=!0;else if(c>n+g)q.scrollTop=c+h-g,d=!0;b=q.clientWidth;c=q.scrollLeft;h=j.fixedGutter?K.clientWidth:0;if(a<c+h)50>a&&(a=0),q.scrollLeft=Math.max(0,a-10-h),d=!0;else if(f>b+c-3)q.scrollLeft=f+10-b,d=!0,f>N.clientWidth&&(e=!1);if(d&&
j.onScroll)j.onScroll(w);return e}function Na(){var a=Z(),b=q.scrollTop-u.offsetTop,f=Math.max(0,Math.floor(b/a)),a=Math.ceil((b+q.clientHeight)/a);return{from:ob(m,f),to:ob(m,a)}}function Da(a,b){if(q.clientWidth){var f=Na();if(!(!0!==a&&0==a.length&&f.from>=G&&f.to<=O)){var c=Math.max(f.from-100,0),f=Math.min(m.size,f.to+100);G<c&&20>c-G&&(c=G);O>f&&20>O-f&&(f=Math.min(m.size,O));for(var d=!0===a?[]:Kb([{from:G,to:O,domStart:0}],a),e=0,h=0;h<d.length;++h){var g=d[h];if(g.from<c)g.domStart+=c-g.from,
g.from=c;if(g.to>f)g.to=f;g.from>=g.to?d.splice(h--,1):e+=g.to-g.from}if(e!=f-c){d.sort(function(a,i){return a.domStart-i.domStart});var n=Z(),e=K.style.display;P.style.display=K.style.display="none";oc(c,f,d);P.style.display="";(h=c!=G||f!=O||Qb!=q.clientHeight+n)&&(Qb=q.clientHeight+n);G=c;O=f;Ea=pb(m,c);Ra.style.top=Ea*n+"px";N.style.height=m.height*n+2*u.offsetTop+"px";if(P.childNodes.length!=O-G)throw Error("BAD PATCH! "+JSON.stringify(d)+" size="+(O-G)+" nodes="+P.childNodes.length);if(j.lineWrapping){da=
q.clientWidth;var E=P.firstChild;m.iter(G,O,function(a){if(!a.hidden){var i=Math.round(E.offsetHeight/n)||1;a.height!=i&&(B(a,i),U=!0)}E=E.nextSibling})}else null==da&&(da=qb(ca)),da>q.clientWidth?(u.style.width=da+"px",N.style.width="",N.style.width=q.scrollWidth+"px"):u.style.width=N.style.width="";K.style.display=e;(h||U)&&Rb();Sb();if(!b&&j.onUpdate)j.onUpdate(w);return!0}}}else G=O=Ea=0}function Kb(a,b){for(var f=0,c=b.length||0;f<c;++f){for(var d=b[f],e=[],h=d.diff||0,g=0,n=a.length;g<n;++g){var j=
a[g];d.to<=j.from&&d.diff?e.push({from:j.from+h,to:j.to+h,domStart:j.domStart}):d.to<=j.from||d.from>=j.to?e.push(j):(d.from>j.from&&e.push({from:j.from,to:d.from,domStart:j.domStart}),d.to<j.to&&e.push({from:d.to+h,to:j.to+h,domStart:j.domStart+(d.to-j.from)}))}a=e}return a}function oc(a,b,f){if(f.length){for(var e=function(a){var i=a.nextSibling;a.parentNode.removeChild(a);return i},h=0,g=P.firstChild,j=0;j<f.length;++j){for(var t=f[j];t.domStart>h;)g=e(g),h++;for(var n=0,t=t.to-t.from;n<t;++n)g=
g.nextSibling,h++}for(;g;)g=e(g)}else P.innerHTML="";var k=f.shift(),g=P.firstChild,n=a,q=c.line,l=d.line,B=q<a&&l>=a,r=ka.createElement("div");m.iter(a,b,function(a){var i=null,b=null;if(B){if(i=0,l==n)B=!1,b=d.ch}else if(q==n)l==n?(i=c.ch,b=d.ch):(B=!0,i=c.ch);k&&k.to==n&&(k=f.shift());!k||k.from>n?(r.innerHTML=a.hidden?"<pre></pre>":a.getHTML(i,b,!0,rb),P.insertBefore(r.firstChild,g)):g=g.nextSibling;++n})}function Rb(){if(j.gutter||j.lineNumbers){var a=Ra.offsetHeight,b=q.clientHeight;K.style.height=
(2>a-b?b:a)+"px";var f=[],c=G;m.iter(G,Math.max(O,G+1),function(a){if(a.hidden)f.push("<pre></pre>");else{var i=a.gutterMarker,b=j.lineNumbers?c+j.firstLineNumber:null;i&&i.text?b=i.text.replace("%N%",null!=b?b:""):null==b&&(b="\u00a0");f.push(i&&i.style?'<pre class="'+i.style+'">':"<pre>",b);for(i=1;i<a.height;++i)f.push("<br/>&#160;");f.push("</pre>")}++c});K.style.display="none";Fa.innerHTML=f.join("");for(var a=(""+m.size).length,b=Fa.firstChild,d=b.textContent||b.innerText||b.nodeValue||"",e=
"";d.length+e.length<a;)e+="\u00a0";e&&b.insertBefore(ka.createTextNode(e),b.firstChild);K.style.display="";u.style.marginLeft=K.offsetWidth+"px";U=!1}}function Sb(){var a=e?c:d;Z();var a=Ca(a,!0),b=la(x),f=la(P);Ga.style.top=a.y+f.top-b.top+"px";Ga.style.left=a.x+f.left-b.left+"px";p(c,d)?(X.style.top=a.y+"px",X.style.left=(j.lineWrapping?Math.min(a.x,u.offsetWidth):a.x)+"px",X.style.display=""):X.style.display="none"}function fa(a,b){var f=L&&D(L);f&&(H(f,a)?a=f:H(b,f)&&(b=f));ya(a,b);Sa=!0}function ya(a,
b,f,h){Ta=null;if(null==f)f=c.line,h=d.line;if(!p(c,a)||!p(d,b)){if(H(b,a))var g=b,b=a,a=g;a.line!=f&&(a=Ua(a,f,c.ch));b.line!=h&&(b=Ua(b,h,d.ch));p(a,b)?e=!1:p(a,d)?e=!1:p(b,c)&&(e=!0);p(a,b)?p(c,d)||F.push({from:f,to:h+1}):p(c,d)?F.push({from:a.line,to:b.line+1}):(p(a,c)||(a.line<f?F.push({from:a.line,to:Math.min(b.line,f)+1}):F.push({from:f,to:Math.min(h,a.line)+1})),p(b,d)||(b.line<h?F.push({from:Math.max(f,a.line),to:h+1}):F.push({from:Math.max(a.line,h),to:b.line+1})));c=a;d=b;ga=!0}}function Ua(a,
b,f){function c(b){for(var d=a.line+b,e=1==b?m.size:-1;d!=e;){var aa=h(d);if(!aa.hidden){b=a.ch;if(b>f||b>aa.text.length)b=aa.text.length;return{line:d,ch:b}}d+=b}}return!h(a.line).hidden?a:a.line>=b?c(1)||c(-1):c(-1)||c(1)}function ha(a,b,f){a=D({line:a,ch:b||0});(f?fa:ya)(a,a)}function Va(a){return Math.max(0,Math.min(a,m.size-1))}function D(a){if(0>a.line)return{line:0,ch:0};if(a.line>=m.size)return{line:m.size-1,ch:h(m.size-1).text.length};var b=a.ch,f=h(a.line).text.length;return null==b||b>
f?{line:a.line,ch:f}:0>b?{line:a.line,ch:0}:a}function sb(a,b){function f(b){if(s==(0>a?0:k.text.length)){if(b=!b)a:{for(var b=j+a,f=0>a?-1:m.size;b!=f;b+=a){var c=h(b);if(!c.hidden){j=b;k=c;b=!0;break a}}b=void 0}if(b)s=0>a?k.text.length:0;else return!1}else s+=a;return!0}var g=e?c:d,j=g.line,s=g.ch,k=h(j);if("char"==b)f();else if("column"==b)f(!0);else if("word"==b)for(g=!1;!(0>a)||f();){if(tb(k.text.charAt(s)))g=!0;else if(g){0>a&&(a=1,f());break}if(0<a&&!f())break}return{line:j,ch:s}}function Tb(a){for(var b=
h(a.line).text,f=a.ch,c=a.ch;0<f&&tb(b.charAt(f-1));)--f;for(;c<b.length&&tb(b.charAt(c));)++c;fa({line:a.line,ch:f},{line:a.line,ch:c})}function pc(a){fa({line:a,ch:0},{line:a,ch:h(a).text.length})}function Wa(a,b){b||(b="add");if("smart"==b)if(!A.indent||!j.smartIndent)b="prev";else var f=Xa(a);var e=h(a),g=e.indentation(j.tabSize),s=e.text.match(/^\s*/)[0],k;"prev"==b?k=a?h(a-1).indentation(j.tabSize):0:"smart"==b?k=A.indent(f,e.text.slice(s.length),e.text):"add"==b?k=g+j.indentUnit:"subtract"==
b&&(k=g-j.indentUnit);k=Math.max(0,k);if(k-g){g="";f=0;if(j.indentWithTabs)for(e=Math.floor(k/j.tabSize);e;--e)f+=j.tabSize,g+="\t";for(;f<k;)++f,g+=" "}else{if(c.line!=a&&d.line!=a)return;g=s}y(g,{line:a,ch:0},{line:a,ch:s.length})}function Ub(){A=l.getMode(j,j.mode);m.iter(0,m.size,function(a){a.stateAfter=null});W=[0];ib()}function qc(){var a=j.gutter||j.lineNumbers;K.style.display=a?"":"none";a?U=!0:P.parentNode.style.marginLeft=0}function rc(){if(j.lineWrapping){x.className+=" CodeMirror-wrap";
var a=q.clientWidth/hb()-3;m.iter(0,m.size,function(b){if(!b.hidden){var f=Math.ceil(b.text.length/a)||1;1!=f&&B(b,f)}});u.style.width=N.style.width=""}else x.className=x.className.replace(" CodeMirror-wrap",""),da=null,ca="",m.iter(0,m.size,function(a){1!=a.height&&!a.hidden&&B(a,1);if(a.text.length>ca.length)ca=a.text});F.push({from:0,to:m.size})}function Vb(){for(var a='<span class="cm-tab">',b=0;b<j.tabSize;++b)a+=" ";return a+"</span>"}function sc(){rb=Vb();Da(!0)}function Wb(){q.className=q.className.replace(/\s*cm-s-\w+/g,
"")+j.theme.replace(/(^|\s)\s*/g," cm-s-")}function ub(){this.set=[]}function vb(a,b,f){function c(a,i,b,f){h(a).addMark(new Ya(i,b,f,d.set))}var a=D(a),b=D(b),d=new ub;if(a.line==b.line)c(a.line,a.ch,b.ch,f);else{c(a.line,a.ch,null,f);for(var e=a.line+1,g=b.line;e<g;++e)c(e,null,null,f);c(b.line,null,b.ch,f)}F.push({from:a.line,to:b.line+1});return d}function Xb(a,b){var f=a,c=a;"number"==typeof a?c=h(Va(a)):f=Ha(a);if(null==f)return null;if(b(c,f))F.push({from:f,to:f+1});else return null;return c}
function Yb(a,b){return Xb(a,function(a,i){if(a.hidden!=b)return a.hidden=b,B(a,b?0:1),b&&(c.line==i||d.line==i)&&ya(Ua(c,c.line,c.ch),Ua(d,d.line,d.ch)),U=!0})}function qb(a){ia.innerHTML="<pre><span>x</span></pre>";ia.firstChild.firstChild.firstChild.nodeValue=a;return ia.firstChild.firstChild.offsetWidth||10}function Zb(a,b){var c="";j.lineWrapping&&(c=a.text.indexOf(" ",b+2),c=Y(a.text.slice(b+1,0>c?a.text.length:c+(Ba?5:0))));ia.innerHTML="<pre>"+a.getHTML(null,null,!1,rb,b)+'<span id="CodeMirror-temp-'+
$b+'">'+Y(a.text.charAt(b)||" ")+"</span>"+c+"</pre>";var c=document.getElementById("CodeMirror-temp-"+$b),d=c.offsetTop,e=c.offsetLeft;if(Ba&&b&&0==d&&0==e)d=document.createElement("span"),d.innerHTML="x",c.parentNode.insertBefore(d,c.nextSibling),d=d.offsetTop;return{top:d,left:e}}function Ca(a,b){var c,d=Z(),e=d*(pb(m,a.line)-(b?Ea:0));if(0==a.ch)c=0;else{var g=Zb(h(a.line),a.ch);c=g.left;j.lineWrapping&&(e+=Math.max(0,g.top))}return{x:c,y:e,yBot:e+d}}function wb(a,b){function c(a){a=Zb(t,a);if(l){var b=
Math.round(a.top/d);return Math.max(0,a.left+(b-B)*q.clientWidth)}return a.left}0>b&&(b=0);var d=Z(),e=hb(),g=Ea+Math.floor(b/d),k=ob(m,g);if(k>=m.size)return{line:m.size-1,ch:h(m.size-1).text.length};var t=h(k),n=t.text,l=j.lineWrapping,B=l?g-pb(m,k):0;if(0>=a&&0==B)return{line:k,ch:0};for(var v=g=0,n=n.length,r,e=Math.min(n,Math.ceil((a+0.9*B*q.clientWidth)/e));;){var o=c(e);if(o<=a&&e<n)e=Math.min(n,Math.ceil(1.2*e));else{r=o;n=e;break}}if(a>r)return{line:k,ch:n};e=Math.floor(0.8*n);o=c(e);o<a&&
(g=e,v=o);for(;;){if(1>=n-g)return{line:k,ch:r-a>a-v?g:n};e=Math.ceil((g+n)/2);o=c(e);o>a?(n=e,r=o):(g=e,v=o)}}function ac(a){var a=Ca(a,!0),b=la(u);return{x:b.left+a.x,y:b.top+a.y,yBot:b.top+a.yBot}}function Z(){if(null==ma){ma="<pre>";for(var a=0;49>a;++a)ma+="x<br/>";ma+="x</pre>"}a=P.clientHeight;if(a==bc)return xb;bc=a;ia.innerHTML=ma;xb=ia.firstChild.offsetHeight/50||1;ia.innerHTML="";return xb}function hb(){if(q.clientWidth==cc)return dc;cc=q.clientWidth;return dc=qb("x")}function pa(a,b){var c=
la(q,!0),d,e;try{d=a.clientX,e=a.clientY}catch(g){return null}if(!b&&(d-c.left>q.clientWidth||e-c.top>q.clientHeight))return null;c=la(u,!0);return wb(d-c.left,e-c.top)}function ec(a){function b(){var a=ua(r.value).join("\n");a!=g&&k(za)(a,"end");Ga.style.position="relative";r.style.cssText=e;va=!1;Q(!0);Pa()}var f=pa(a);if(f&&!window.opera){(p(c,d)||H(f,c)||!H(f,d))&&k(ha)(f.line,f.ch);var e=r.style.cssText;Ga.style.position="absolute";r.style.cssText="position: fixed; width: 30px; height: 30px; top: "+
(a.clientY-5)+"px; left: "+(a.clientX-5)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";va=!0;var g=r.value=Qa();ja();r.select();if(yb){Ia(a);var h=o(window,"mouseup",function(){h();setTimeout(b,20)},!0)}else setTimeout(b,50)}}function Nb(){clearInterval(gb);var a=!0;X.style.visibility="";gb=setInterval(function(){X.style.visibility=(a=!a)?"":"hidden"},650)}function fc(a){function b(a,i,c){if(a.text)for(var d=a.styles,
a=l?0:a.text.length-1,f,e=l?0:d.length-2,g=l?d.length:-2;e!=g;e+=2*t){var h=d[e];if(null!=d[e+1]&&d[e+1]!=r)a+=t*h.length;else for(var aa=l?0:h.length-1,j=l?h.length:-1;aa!=j;aa+=t,a+=t)if(a>=i&&a<c&&u.test(f=h.charAt(aa))){var k=zb[f];if(">"==k.charAt(1)==l)o.push(f);else{if(o.pop()!=k.charAt(0))return{pos:a,match:!1};if(!o.length)return{pos:a,match:!0}}}}}var f=e?c:d,g=h(f.line),j=f.ch-1,s=0<=j&&zb[g.text.charAt(j)]||zb[g.text.charAt(++j)];if(s){s.charAt(0);for(var l=">"==s.charAt(1),t=l?1:-1,n=
g.styles,q=j+1,s=0,B=n.length;s<B;s+=2)if(0>=(q-=n[s].length)){var r=n[s+1];break}for(var o=[g.text.charAt(j)],u=/[(){}[\]]/,s=f.line,B=l?Math.min(s+100,m.size):Math.max(-1,s-100);s!=B;s+=t){var g=h(s),p=s==f.line;if(p=b(g,p&&l?j+1:0,p&&!l?j:g.text.length))break}p||(p={pos:null,match:!1});var r=p.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",Oa=vb({line:f.line,ch:j},{line:f.line,ch:j+1},r),ta=null!=p.pos&&vb({line:s,ch:p.pos},{line:s,ch:p.pos+1},r),f=k(function(){Oa.clear();ta&&
ta.clear()});a?setTimeout(f,800):Za=f}}function gc(a){for(var b,c,d=a,a=a-40;d>a;--d){if(0==d)return 0;var e=h(d-1);if(e.stateAfter)return d;e=e.indentation(j.tabSize);if(null==c||b>e)c=d-1,b=e}return c}function Xa(a){var b=gc(a),c=b&&h(b-1).stateAfter,c=c?qa(A,c):Ab(A);m.iter(b,a,function(a){a.highlight(A,c,j.tabSize);a.stateAfter=qa(A,c)});b<a&&F.push({from:b,to:a});a<m.size&&!h(a).stateAfter&&W.push(a);return c}function mc(a,b){var c=Xa(a);m.iter(a,b,function(a){a.highlight(A,c,j.tabSize);a.stateAfter=
qa(A,c)})}function tc(){for(var a=+new Date+j.workTime,b=W.length;W.length;){var c=h(G).stateAfter?W.pop():G;if(!(c>=m.size)){var d=gc(c),e=d&&h(d-1).stateAfter,e=e?qa(A,e):Ab(A),g=0,k=A.compareStates,l=!1,n=d,q=!1;m.iter(n,m.size,function(b){var d=b.stateAfter;if(+new Date>a)return W.push(n),ib(j.workDelay),l&&F.push({from:c,to:n+1}),q=!0;var h=b.highlight(A,e,j.tabSize);h&&(l=!0);b.stateAfter=qa(A,e);if(k){if(d&&k(d,e))return!0}else if(!1!==h||!d)g=0;else if(3<++g&&(!A.indent||A.indent(d,"")==A.indent(e,
"")))return!0;++n});if(q)return;l&&F.push({from:c,to:n+1})}}if(b&&j.onHighlightComplete)j.onHighlightComplete(w)}function ib(a){W.length&&uc.set(a,k(tc))}function lb(){ba=Sa=xa=null;F=[];ga=!1;wa=[]}function mb(){var a=!1,b;ga&&(a=!na());F.length?b=Da(F,!0):(ga&&Sb(),U&&Rb());a&&na();ga&&(ra(),Nb());R&&!va&&(!0===ba||!1!==ba&&ga)&&Q(Sa);ga&&j.matchBrackets&&setTimeout(k(function(){Za&&(Za(),Za=null);p(c,d)&&fc(!1)}),20);var f=xa,a=wa;if(ga&&j.onCursorActivity)j.onCursorActivity(w);if(f&&j.onChange&&
w)j.onChange(w,f);for(f=0;f<a.length;++f)a[f](w);if(b&&j.onUpdate)j.onUpdate(w)}function k(a){return function(){hc++||lb();try{var b=a.apply(this,arguments)}finally{--hc||mb()}return b}}var j={},Bb=l.defaults,Ja;for(Ja in Bb)Bb.hasOwnProperty(Ja)&&(j[Ja]=(b&&b.hasOwnProperty(Ja)?b:Bb)[Ja]);var ka=j.document,x=ka.createElement("div");x.className="CodeMirror"+(j.lineWrapping?" CodeMirror-wrap":"");x.innerHTML='<div style="overflow: hidden; position: relative; width: 3px; height: 0px;"><textarea style="position: absolute; padding: 0; width: 1px;" wrap="off" autocorrect="off" autocapitalize="off"></textarea></div><div class="CodeMirror-scroll" tabindex="-1"><div style="position: relative"><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative"><div style="position: absolute; width: 100%; height: 0; overflow: hidden; visibility: hidden"></div><pre class="CodeMirror-cursor">&#160;</pre><div></div></div></div></div></div></div>';
a.appendChild?a.appendChild(x):a(x);var Ga=x.firstChild,r=Ga.firstChild,q=x.lastChild,N=q.firstChild,Ra=N.firstChild,K=Ra.firstChild,Fa=K.firstChild,u=K.nextSibling.firstChild,ia=u.firstChild,X=ia.nextSibling,P=X.nextSibling;Wb();if(/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent))r.style.width="0px";if(!Cb)u.draggable=!0;if(null!=j.tabindex)r.tabIndex=j.tabindex;if(!j.gutter&&!j.lineNumbers)K.style.display="none";try{qb("x")}catch(Db){throw Db.message.match(/runtime/i)&&
(Db=Error("A CodeMirror inside a P-style element does not work in Internet Explorer. (innerHTML bug)")),Db;}var kb=new Eb,uc=new Eb,gb,A,m=new $a([new ab([new M("")])]),W,R;Ub();c={line:0,ch:0};d={line:0,ch:0};e=!1;var L,bb,Ka,Fb,nb=!1,ba,Sa,F,xa,ga,va,U,wa,Ea=0,G=0,O=0,Qb=0,Za,ca="",da,rb=Vb();k(function(){ta(j.value||"");ba=!1})();var S=new Gb;o(q,"mousedown",k(function(a){function b(a){var c=pa(a,!0);if(c&&!p(c,h)){R||oa();h=c;fa(g,c);ba=!1;var i=Na();if(c.line>=i.to||c.line<i.from)l=setTimeout(k(function(){b(a)}),
150)}}L=a.shiftKey?L||(e?d:c):null;for(var f=a.target||a.srcElement;f!=x;f=f.parentNode)if(f.parentNode==N&&f!=Ra)return;for(f=a.target||a.srcElement;f!=x;f=f.parentNode)if(f.parentNode==Fa){if(j.onGutterClick)j.onGutterClick(w,La(Fa.childNodes,f)+G,a);return z(a)}var g=pa(a);switch(vc(a)){case 3:yb&&!Hb&&ec(a);return;case 2:g&&ha(g.line,g.ch,!0);return}if(g){R||oa();f=+new Date;if(Ka&&Ka.time>f-400&&p(Ka.pos,g))return z(a),setTimeout(ja,20),pc(g.line);if(bb&&bb.time>f-400&&p(bb.pos,g))return Ka=
{time:f,pos:g},z(a),Tb(g);bb={time:f,pos:g};var h=g,l;if(ic&&!p(c,d)&&!H(g,c)&&!H(d,g)){if(Cb)u.draggable=!0;var m=o(ka,"mouseup",k(function(b){if(Cb)u.draggable=!1;Fb=!1;m();10>Math.abs(a.clientX-b.clientX)+Math.abs(a.clientY-b.clientY)&&(z(b),ha(g.line,g.ch,!0),ja())}),!0);Fb=!0}else{z(a);ha(g.line,g.ch,!0);var B=o(ka,"mousemove",k(function(a){clearTimeout(l);z(a);b(a)}),!0),m=o(ka,"mouseup",k(function(a){clearTimeout(l);var b=pa(a);b&&fa(g,b);z(a);ja();ba=!0;B();m()}),!0)}}else(a.target||a.srcElement)==
q&&z(a)}));o(q,"dblclick",k(function(a){for(var b=a.target||a.srcElement;b!=x;b=b.parentNode)if(b.parentNode==Fa)return z(a);if(b=pa(a))Ka={time:+new Date,pos:b},z(a),Tb(b)}));o(u,"dragstart",function(a){var b=Qa();Y(b);a.dataTransfer.setDragImage(T,0,0);a.dataTransfer.setData("Text",b)});o(u,"selectstart",z);yb||o(q,"contextmenu",ec);o(q,"scroll",function(){Da([]);if(j.fixedGutter)K.style.left=q.scrollLeft+"px";if(j.onScroll)j.onScroll(w)});o(window,"resize",function(){Da(!0)});o(r,"keyup",k(function(a){if(!j.onKeyEvent||
!j.onKeyEvent(w,Ib(a)))16==a.keyCode&&(L=null)}));o(r,"input",Aa);o(r,"keydown",k(function(a){R||oa();var b=a.keyCode;if(Ba&&27==b)a.returnValue=!1;L=16==b||a.shiftKey?L||(e?d:c):null;if(!j.onKeyEvent||!j.onKeyEvent(w,Ib(a)))b=Oa(a),window.opera&&(Jb=b?a.keyCode:null,!b&&(Hb?a.metaKey:a.ctrlKey)&&88==a.keyCode&&za(""))}));o(r,"keypress",k(function(a){if(window.opera&&a.keyCode==Jb)Jb=null,z(a);else if(!j.onKeyEvent||!j.onKeyEvent(w,Ib(a)))if(!window.opera||a.which||!Oa(a))j.electricChars&&A.electricChars&&
j.smartIndent&&(a=String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),-1<A.electricChars.indexOf(a)&&setTimeout(k(function(){Wa(d.line,"smart")}),75)),Aa()}));o(r,"focus",oa);o(r,"blur",fb);o(q,"dragenter",Ia);o(q,"dragover",Ia);o(q,"drop",k(function(a){a.preventDefault();var b=pa(a,!0),f=a.dataTransfer.files;if(b&&!j.readOnly)if(f&&f.length&&window.FileReader&&window.File)for(var e=function(a,c){var d=new FileReader;d.onload=function(){h[c]=d.result;++l==g&&(b=D(b),k(function(){var a=y(h.join(""),
b,b);fa(b,a)})())};d.readAsText(a)},g=f.length,h=Array(g),l=0,a=0;a<g;++a)e(f[a],a);else try{if(h=a.dataTransfer.getData("Text"))e=y(h,b,b),f=c,a=d,fa(b,e),Fb&&y("",f,a),ja()}catch(m){}}));o(q,"paste",function(){ja();Aa()});o(r,"paste",Aa);o(r,"cut",k(function(){za("")}));var jc;try{jc=ka.activeElement==r}catch(wc){}jc?setTimeout(oa,20):fb();var w=x.CodeMirror={getValue:function(){var a=[];m.iter(0,m.size,function(b){a.push(b.text)});return a.join("\n")},setValue:k(ta),getSelection:Qa,replaceSelection:k(za),
focus:function(){ja();oa();Aa()},setOption:function(a,b){var c=j[a];j[a]=b;"mode"==a||"indentUnit"==a?Ub():"readOnly"==a&&b?(fb(),r.blur()):"theme"==a?Wb():"lineWrapping"==a&&c!=b?k(rc)():"tabSize"==a&&k(sc)();("lineNumbers"==a||"gutter"==a||"firstLineNumber"==a||"theme"==a)&&k(qc)()},getOption:function(a){return j[a]},undo:k(function(){Pb(S.done,S.undone)}),redo:k(function(){Pb(S.undone,S.done)}),indentLine:k(function(a,b){g(a)&&Wa(a,null==b?"smart":b?"add":"subtract")}),indentSelection:k(function(a){if(p(c,
d))return Wa(c.line,a);for(var b=d.line-(d.ch?0:1),f=c.line;f<=b;++f)Wa(f,a)}),historySize:function(){return{undo:S.done.length,redo:S.undone.length}},clearHistory:function(){S=new Gb},matchBrackets:k(function(){fc(!0)}),getTokenAt:k(function(a){a=D(a);return h(a.line).getTokenAt(A,Xa(a.line),a.ch)}),getStateAfter:function(a){a=Va(null==a?m.size-1:a);return Xa(a+1)},cursorCoords:function(a){null==a&&(a=e);return ac(a?c:d)},charCoords:function(a){return ac(D(a))},coordsChar:function(a){var b=la(u);
return wb(a.x-b.left,a.y-b.top)},markText:k(vb),setBookmark:function(a){var a=D(a),b=new kc(a.ch);h(a.line).addMark(b);return b},setMarker:k(function(a,b,c){"number"==typeof a&&(a=h(Va(a)));a.gutterMarker={text:b,style:c};U=!0;return a}),clearMarker:k(function(a){"number"==typeof a&&(a=h(Va(a)));a.gutterMarker=null;U=!0}),setLineClass:k(function(a,b){return Xb(a,function(a){if(a.className!=b)return a.className=b,!0})}),hideLine:k(function(a){return Yb(a,!0)}),showLine:k(function(a){return Yb(a,!1)}),
onDeleteLine:function(a,b){if("number"==typeof a){if(!g(a))return null;a=h(a)}(a.handlers||(a.handlers=[])).push(b);return a},lineInfo:function(a){if("number"==typeof a){if(!g(a))return null;var b=a,a=h(a);if(!a)return null}else if(b=Ha(a),null==b)return null;var c=a.gutterMarker;return{line:b,handle:a,text:a.text,markerText:c&&c.text,markerClass:c&&c.style,lineClass:a.className}},addWidget:function(a,b,c,d,e){var a=Ca(D(a)),g=a.yBot,h=a.x;b.style.position="absolute";N.appendChild(b);if("over"==d)g=
a.y;else if("near"==d){var d=Math.max(q.offsetHeight,m.height*Z()),j=Math.max(N.clientWidth,u.clientWidth)-u.offsetLeft;a.yBot+b.offsetHeight>d&&a.y>b.offsetHeight&&(g=a.y-b.offsetHeight);h+b.offsetWidth>j&&(h=j-b.offsetWidth)}b.style.top=g+u.offsetTop+"px";b.style.left=b.style.right="";"right"==e?(h=N.clientWidth-b.offsetWidth,b.style.right="0px"):("left"==e?h=0:"middle"==e&&(h=(N.clientWidth-b.offsetWidth)/2),b.style.left=h+u.offsetLeft+"px");c&&sa(h,g,h+b.offsetWidth,g+b.offsetHeight)},lineCount:function(){return m.size},
clipPos:D,getCursor:function(a){null==a&&(a=e);return{line:(a?c:d).line,ch:(a?c:d).ch}},somethingSelected:function(){return!p(c,d)},setCursor:k(function(a,b,c){null==b&&"number"==typeof a.line?ha(a.line,a.ch,c):ha(a,b,c)}),setSelection:k(function(a,b,c){(c?fa:ya)(D(a),D(b||a))}),getLine:function(a){if(g(a))return h(a).text},getLineHandle:function(a){if(g(a))return h(a)},setLine:k(function(a,b){g(a)&&y(b,{line:a,ch:0},{line:a,ch:h(a).text.length})}),removeLine:k(function(a){g(a)&&y("",{line:a,ch:0},
D({line:a+1,ch:0}))}),replaceRange:k(y),getRange:function(a,b){return $(D(a),D(b))},execCommand:function(a){return eb[a](w)},moveH:k(function(a,b){var e=0>a?c:d;if(L||p(c,d))e=sb(a,b);ha(e.line,e.ch,!0)}),deleteH:k(function(a,b){p(c,d)?0>a?y("",sb(a,b),d):y("",c,sb(a,b)):y("",c,d);Sa=!0}),moveV:k(function(a,b){var f=0,g=Ca(e?c:d,!0);if(null!=Ta)g.x=Ta;"page"==b?f=q.clientHeight:"line"==b&&(f=Z());f=wb(g.x,g.y+f*a+2);ha(f.line,f.ch,!0);Ta=g.x}),toggleOverwrite:function(){nb=!nb},posFromIndex:function(a){var b=
0,c;m.iter(0,m.size,function(d){d=d.text.length+1;if(d>a)return c=a,!0;a-=d;++b});return D({line:b,ch:c})},indexFromPos:function(a){if(0>a.line||0>a.ch)return 0;var b=a.ch;m.iter(0,a.line,function(a){b+=a.text.length+1});return b},operation:function(a){return k(a)()},refresh:function(){Da(!0)},getInputField:function(){return r},getWrapperElement:function(){return x},getScrollerElement:function(){return q},getGutterElement:function(){return K}},Jb=null,jb=!1,ea="",Ta=null;ub.prototype.clear=k(function(){for(var a=
Infinity,b=-Infinity,c=0,d=this.set.length;c<d;++c){var e=this.set[c],g=e.marked;if(g&&e.parent){e=Ha(e);a=Math.min(a,e);b=Math.max(b,e);for(e=0;e<g.length;++e)g[e].set==this.set&&g.splice(e--,1)}}Infinity!=a&&F.push({from:a,to:b+1})});ub.prototype.find=function(){for(var a,b,c=0,d=this.set.length;c<d;++c)for(var e=this.set[c],g=e.marked,h=0;h<g.length;++h){var j=g[h];if(j.set==this.set&&(null!=j.from||null!=j.to)){var k=Ha(e);null!=k&&(null!=j.from&&(a={line:k,ch:j.from}),null!=j.to&&(b={line:k,
ch:j.to}))}}return{from:a,to:b}};var $b=Math.floor(16777215*Math.random()).toString(16),xb,bc,ma,dc,cc=0,zb={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},hc=0,Ma;for(Ma in cb)cb.propertyIsEnumerable(Ma)&&!w.propertyIsEnumerable(Ma)&&(w[Ma]=cb[Ma]);return w}function Mb(a,b,c){function d(a,b,c){var l=b[a];if(null!=l)return l;if(null==c)c=b.fallthrough;if(null==c)return b.catchall;if("string"==typeof c)return d(a,C[c]);for(var b=0,o=c.length;b<o;++b)if(l=d(a,C[c[b]]),null!=l)return l;return null}
return b?d(a,b,c):d(a,C[c])}function qa(a,b){if(!0===b)return b;if(a.copyState)return a.copyState(b);var c={},d;for(d in b){var e=b[d];e instanceof Array&&(e=e.concat([]));c[d]=e}return c}function Ab(a,b,c){return a.startState?a.startState(b,c):!0}function Q(a,b){this.pos=this.start=0;this.string=a;this.tabSize=b||8}function Ya(a,b,c,d){this.from=a;this.to=b;this.style=c;this.set=d}function kc(a){this.to=this.from=a;this.line=null}function M(a,b){this.styles=b||[a,null];this.text=a;this.height=1;
this.stateAfter=this.parent=this.hidden=this.marked=this.gutterMarker=this.className=this.handlers=null}function ra(a,b,c,d){for(var e=0,g=0,h=0;g<b;e+=2){var l=c[e],o=g+l.length;0==h?(o>a&&d.push(l.slice(a-g,Math.min(l.length,b-g)),c[e+1]),o>=a&&(h=1)):1==h&&(o>b?d.push(l.slice(0,b-g),c[e+1]):d.push(l,c[e+1]));g=o}}function ab(a){this.lines=a;this.parent=null;for(var b=0,c=a.length,d=0;b<c;++b)a[b].parent=this,d+=a[b].height;this.height=d}function $a(a){this.children=a;for(var b=0,c=0,d=0,e=a.length;d<
e;++d){var g=a[d],b=b+g.chunkSize(),c=c+g.height;g.parent=this}this.size=b;this.height=c;this.parent=null}function Ha(a){if(null==a.parent)return null;for(var b=a.parent,a=La(b.lines,a),c=b.parent;c;b=c,c=c.parent)for(var d=0;!(c.children[d]==b);++d)a+=c.children[d].chunkSize();return a}function ob(a,b){var c=0;a:do{for(var d=0,e=a.children.length;d<e;++d){var g=a.children[d],h=g.height;if(b<h){a=g;continue a}b-=h;c+=g.chunkSize()}return c}while(!a.lines);d=0;for(e=a.lines.length;d<e;++d){g=a.lines[d].height;
if(b<g)break;b-=g}return c+d}function pb(a,b){var c=0;a:do{for(var d=0,e=a.children.length;d<e;++d){var g=a.children[d],h=g.chunkSize();if(b<h){a=g;continue a}b-=h;c+=g.height}return c}while(!a.lines);for(d=0;d<b;++d)c+=a.lines[d].height;return c}function Gb(){this.time=0;this.done=[];this.undone=[]}function Kb(){Ia(this)}function Ib(a){if(!a.stop)a.stop=Kb;return a}function z(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function Na(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=
!0}function Ia(a){z(a);Na(a)}function vc(a){if(a.which)return a.which;if(a.button&1)return 1;if(a.button&2)return 3;if(a.button&4)return 2}function o(a,b,c,d){if("function"==typeof a.addEventListener){if(a.addEventListener(b,c,!1),d)return function(){a.removeEventListener(b,c,!1)}}else{var e=function(a){c(a||window.event)};a.attachEvent("on"+b,e);if(d)return function(){a.detachEvent("on"+b,e)}}}function Eb(){this.id=null}function sa(a,b,c){if(null==b&&(b=a.search(/[^\s\u00a0]/),-1==b))b=a.length;
for(var d=0,e=0;d<b;++d)"\t"==a.charAt(d)?e+=c-e%c:++e;return e}function la(a,b){for(var c=a.ownerDocument.body,d=0,e=0,g=!1,h=a;h;h=h.offsetParent){var l=h.offsetLeft,o=h.offsetTop;h==c?(d+=Math.abs(l),e+=Math.abs(o)):(d+=l,e+=o);b&&"fixed"==(h.currentStyle?h.currentStyle:window.getComputedStyle(h,null)).position&&(g=!0)}c=b&&!g?null:c;for(h=a.parentNode;h!=c;h=h.parentNode)null!=h.scrollLeft&&(d-=h.scrollLeft,e-=h.scrollTop);return{left:d,top:e}}function p(a,b){return a.line==b.line&&a.ch==b.ch}
function H(a,b){return a.line<b.line||a.line==b.line&&a.ch<b.ch}function Y(a){T.textContent=a;return T.innerHTML}function lc(a,b){if(!b)return a?a.length:0;if(!a)return b.length;for(var c=a.length,d=b.length;0<=c&&0<=d&&!(a.charAt(c)!=b.charAt(d));--c,--d);return d+1}function La(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;c<d;++c)if(a[c]==b)return c;return-1}function tb(a){return/\w/.test(a)||a.toUpperCase()!=a.toLowerCase()}l.defaults={value:"",mode:null,theme:"default",indentUnit:2,
indentWithTabs:!1,smartIndent:!0,tabSize:4,keyMap:"default",extraKeys:null,electricChars:!0,onKeyEvent:null,lineWrapping:!1,lineNumbers:!1,gutter:!1,fixedGutter:!1,firstLineNumber:1,readOnly:!1,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:!1,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,document:window.document};var Hb=/Mac/.test(navigator.platform);/Win/.test(navigator.platform);
var na={},I={};l.defineMode=function(a,b){if(!l.defaults.mode&&"null"!=a)l.defaults.mode=a;na[a]=b};l.defineMIME=function(a,b){I[a]=b};l.getMode=function(a,b){"string"==typeof b&&I.hasOwnProperty(b)&&(b=I[b]);if("string"==typeof b)var c=b,d={};else if(null!=b)c=b.name,d=b;var e=na[c];return!e?(window.console&&console.warn("No mode "+c+" found, falling back to plain text."),l.getMode(a,"text/plain")):e(a,d||{})};l.listModes=function(){var a=[],b;for(b in na)na.propertyIsEnumerable(b)&&a.push(b);return a};
l.listMIMEs=function(){var a=[],b;for(b in I)I.propertyIsEnumerable(b)&&a.push({mime:b,mode:I[b]});return a};var cb=l.extensions={};l.defineExtension=function(a,b){cb[a]=b};var eb=l.commands={selectAll:function(a){a.setSelection({line:0,ch:0},{line:a.lineCount()-1})},killLine:function(a){var b=a.getCursor(!0),c=a.getCursor(!1),d=!p(b,c);!d&&a.getLine(b.line).length==b.ch?a.replaceRange("",b,{line:b.line+1,ch:0}):a.replaceRange("",b,d?c:{line:b.line})},deleteLine:function(a){var b=a.getCursor().line;
a.replaceRange("",{line:b,ch:0},{line:b})},undo:function(a){a.undo()},redo:function(a){a.redo()},goDocStart:function(a){a.setCursor(0,0,!0)},goDocEnd:function(a){a.setSelection({line:a.lineCount()-1},null,!0)},goLineStart:function(a){a.setCursor(a.getCursor().line,0,!0)},goLineStartSmart:function(a){var b=a.getCursor(),c=a.getLine(b.line),c=Math.max(0,c.search(/\S/));a.setCursor(b.line,b.ch<=c&&b.ch?0:c,!0)},goLineEnd:function(a){a.setSelection({line:a.getCursor().line},null,!0)},goLineUp:function(a){a.moveV(-1,
"line")},goLineDown:function(a){a.moveV(1,"line")},goPageUp:function(a){a.moveV(-1,"page")},goPageDown:function(a){a.moveV(1,"page")},goCharLeft:function(a){a.moveH(-1,"char")},goCharRight:function(a){a.moveH(1,"char")},goColumnLeft:function(a){a.moveH(-1,"column")},goColumnRight:function(a){a.moveH(1,"column")},goWordLeft:function(a){a.moveH(-1,"word")},goWordRight:function(a){a.moveH(1,"word")},delCharLeft:function(a){a.deleteH(-1,"char")},delCharRight:function(a){a.deleteH(1,"char")},delWordLeft:function(a){a.deleteH(-1,
"word")},delWordRight:function(a){a.deleteH(1,"word")},indentAuto:function(a){a.indentSelection("smart")},indentMore:function(a){a.indentSelection("add")},indentLess:function(a){a.indentSelection("subtract")},insertTab:function(a){a.replaceSelection("\t","end")},transposeChars:function(a){var b=a.getCursor(),c=a.getLine(b.line);0<b.ch&&b.ch<c.length-1&&a.replaceRange(c.charAt(b.ch)+c.charAt(b.ch-1),{line:b.line,ch:b.ch-1},{line:b.line,ch:b.ch+1})},newlineAndIndent:function(a){a.replaceSelection("\n",
"end");a.indentLine(a.getCursor().line)},toggleOverwrite:function(a){a.toggleOverwrite()}},C=l.keyMap={};C.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharRight",Backspace:"delCharLeft",Tab:"indentMore","Shift-Tab":"indentLess",Enter:"newlineAndIndent",Insert:"toggleOverwrite"};C.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo",
"Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft","Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll",fallthrough:"basic"};C.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo",
"Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft","Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll",fallthrough:["basic","emacsy"]};C["default"]=Hb?C.macDefault:C.pcDefault;C.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft",
"Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageUp","Shift-Ctrl-V":"goPageDown","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};l.fromTextArea=function(a,b){function c(){a.value=h.getValue()}b||(b={});b.value=a.value;if(!b.tabindex&&a.tabindex)b.tabindex=a.tabindex;if(a.form){var d=o(a.form,"submit",c,!0);
if("function"==typeof a.form.submit){var e=a.form.submit,g=function(){c();a.form.submit=e;a.form.submit();a.form.submit=g};a.form.submit=g}}a.style.display="none";var h=l(function(b){a.parentNode.insertBefore(b,a.nextSibling)},b);h.save=c;h.getTextArea=function(){return a};h.toTextArea=function(){c();a.parentNode.removeChild(h.getWrapperElement());a.style.display="";if(a.form&&(d(),"function"==typeof a.form.submit))a.form.submit=e};return h};l.copyState=qa;l.startState=Ab;Q.prototype={eol:function(){return this.pos>=
this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(a){var b=this.string.charAt(this.pos);if("string"==typeof a?b==a:b&&(a.test?a.test(b):a(b)))return++this.pos,b},eatWhile:function(a){for(var b=this.pos;this.eat(a););return this.pos>b},eatSpace:function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>
a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){a=this.string.indexOf(a,this.pos);if(-1<a)return this.pos=a,!0},backUp:function(a){this.pos-=a},column:function(){return sa(this.string,this.start,this.tabSize)},indentation:function(){return sa(this.string,null,this.tabSize)},match:function(a,b,c){if("string"==typeof a){if((c?this.string.toLowerCase():this.string).indexOf(c?a.toLowerCase():a,this.pos)==this.pos)return!1!==b&&(this.pos+=a.length),!0}else{if((a=this.string.slice(this.pos).match(a))&&
!1!==b)this.pos+=a[0].length;return a}},current:function(){return this.string.slice(this.start,this.pos)}};l.StringStream=Q;Ya.prototype={attach:function(a){this.set.push(a)},detach:function(a){a=La(this.set,a);-1<a&&this.set.splice(a,1)},split:function(a,b){return this.to<=a&&null!=this.to?null:new Ya(this.from<a||null==this.from?null:this.from-a+b,null==this.to?null:this.to-a+b,this.style,this.set)},dup:function(){return new Ya(null,null,this.style,this.set)},clipTo:function(a,b,c,d,e){if(null!=
this.from&&this.from>=b)this.from=Math.max(d,this.from)+e;if(null!=this.to&&this.to>b)this.to=d<this.to?this.to+e:b;if(a&&d>this.from&&(d<this.to||null==this.to))this.from=null;if(c&&(b<this.to||null==this.to)&&(b>this.from||null==this.from))this.to=null},isDead:function(){return null!=this.from&&null!=this.to&&this.from>=this.to},sameSet:function(a){return this.set==a.set}};kc.prototype={attach:function(a){this.line=a},detach:function(a){if(this.line==a)this.line=null},split:function(a,b){if(a<this.from)return this.from=
this.to=this.from-a+b,this},isDead:function(){return this.from>this.to},clipTo:function(a,b,c,d,e){if((a||b<this.from)&&(c||d>this.to))this.from=0,this.to=-1;else if(this.from>b)this.from=this.to=Math.max(d,this.from)+e},sameSet:function(){return!1},find:function(){return!this.line||!this.line.parent?null:{line:Ha(this.line),ch:this.from}},clear:function(){if(this.line){var a=La(this.line.marked,this);-1!=a&&this.line.marked.splice(a,1);this.line=null}}};M.inheritMarks=function(a,b){var c=new M(a),
d=b&&b.marked;if(d)for(var e=0;e<d.length;++e)if(null==d[e].to&&d[e].style){var g=c.marked||(c.marked=[]),h=d[e].dup();g.push(h);h.attach(c)}return c};M.prototype={replace:function(a,b,c){var d=[],e=this.marked,g=null==b?this.text.length:b;ra(0,a,this.styles,d);c&&d.push(c,null);ra(g,this.text.length,this.styles,d);this.styles=d;this.text=this.text.slice(0,a)+c+this.text.slice(g);this.stateAfter=null;if(e)for(var c=c.length-(g-a),d=0,h=e[d];d<e.length;++d)h.clipTo(null==a,a||0,null==b,g,c),h.isDead()&&
(h.detach(this),e.splice(d--,1))},split:function(a,b){var c=[b,null],d=this.marked;ra(a,this.text.length,this.styles,c);c=new M(b+this.text.slice(a),c);if(d)for(var e=0;e<d.length;++e){var g=d[e].split(a,b.length);if(g){if(!c.marked)c.marked=[];c.marked.push(g);g.attach(c)}}return c},append:function(a){var b=this.text.length,c=a.marked,d=this.marked;this.text+=a.text;ra(0,a.text.length,a.styles,this.styles);if(d)for(a=0;a<d.length;++a)if(null==d[a].to)d[a].to=b;if(c&&c.length){if(!d)this.marked=d=
[];a=0;a:for(;a<c.length;++a){var e=c[a];if(!e.from)for(var g=0;g<d.length;++g){var h=d[g];if(h.to==b&&h.sameSet(e)){h.to=null==e.to?null:e.to+b;h.isDead()&&(h.detach(this),c.splice(a--,1));continue a}}d.push(e);e.attach(this);e.from+=b;null!=e.to&&(e.to+=b)}}},fixMarkEnds:function(a){var b=this.marked,a=a.marked;if(b)for(var c=0;c<b.length;++c){var d=b[c],e=null==d.to;if(e&&a)for(var g=0;g<a.length;++g)if(a[g].sameSet(d)){e=!1;break}if(e)d.to=this.text.length}},fixMarkStarts:function(){var a=this.marked;
if(a)for(var b=0;b<a.length;++b)if(null==a[b].from)a[b].from=0},addMark:function(a){a.attach(this);if(null==this.marked)this.marked=[];this.marked.push(a);this.marked.sort(function(a,c){return(a.from||0)-(c.from||0)})},highlight:function(a,b,c){var c=new Q(this.text,c),d=this.styles,e=0,g=!1,h=d[0],l;for(""==this.text&&a.blankLine&&a.blankLine(b);!c.eol();){var o=a.token(c,b),p=this.text.slice(c.start,c.pos);c.start=c.pos;if(e&&d[e-1]==o)d[e-2]+=p;else if(p){if(!g&&(d[e+1]!=o||e&&d[e-2]!=l))g=!0;
d[e++]=p;d[e++]=o;l=h;h=d[e]}if(5E3<c.pos){d[e++]=this.text.slice(c.pos);d[e++]=null;break}}if(d.length!=e)d.length=e,g=!0;e&&d[e-2]!=l&&(g=!0);return g||(5>d.length&&10>this.text.length?null:!1)},getTokenAt:function(a,b,c){for(var d=new Q(this.text);d.pos<c&&!d.eol();){d.start=d.pos;var e=a.token(d,b)}return{start:d.start,end:d.pos,string:d.current(),className:e||null,state:b}},indentation:function(a){return sa(this.text,null,a)},getHTML:function(a,b,c,d,e){function g(a,b){a&&(l&&Ba&&" "==a.charAt(0)&&
(a="\u00a0"+a.slice(1)),l=!1,b?h.push('<span class="',b,'">',Y(a).replace(/\t/g,d),"</span>"):h.push(Y(a).replace(/\t/g,d)))}var h=[],l=!0;c&&h.push(this.className?'<pre class="'+this.className+'">':"<pre>");var o=this.styles,p=this.text,z=this.marked;a==b&&(a=null);var C=p.length;null!=e&&(C=Math.min(e,C));if(!p&&null==e)g(" ",null!=a&&null==b?"CodeMirror-selected":null);else if(!z&&null==a)for(a=e=0;a<C;e+=2){var b=o[e],H=o[e+1],p=b.length;a+p>C&&(b=b.slice(0,C-a));a+=p;g(b,H&&"cm-"+H)}else{var e=
p=0,I="",M=-1,y=null,T=function(){z&&(M+=1,y=M<z.length?z[M]:null)};for(T();p<C;){var J=C,$="";if(null!=a)if(a>p)J=a;else if(null==b||b>p)$=" CodeMirror-selected",null!=b&&(J=Math.min(J,b));for(;y&&null!=y.to&&y.to<=p;)T();y&&(y.from>p?J=Math.min(J,y.from):($+=" "+y.style,null!=y.to&&(J=Math.min(J,y.to))));for(;;){var Q=p+I.length,V=H;$&&(V=H?H+$:$);g(Q>J?I.slice(0,J-p):I,V);if(Q>=J){I=I.slice(J-p);p=J;break}p=Q;I=o[e++];H="cm-"+o[e++]}}null!=a&&null==b&&g(" ","CodeMirror-selected")}c&&h.push("</pre>");
return h.join("")},cleanUp:function(){this.parent=null;if(this.marked)for(var a=0,b=this.marked.length;a<b;++a)this.marked[a].detach(this)}};ab.prototype={chunkSize:function(){return this.lines.length},remove:function(a,b,c){for(var d=a,e=a+b;d<e;++d){var g=this.lines[d];this.height-=g.height;g.cleanUp();if(g.handlers)for(var h=0;h<g.handlers.length;++h)c.push(g.handlers[h])}this.lines.splice(a,b)},collapse:function(a){a.splice.apply(a,[a.length,0].concat(this.lines))},insertHeight:function(a,b,c){this.height+=
c;this.lines.splice.apply(this.lines,[a,0].concat(b));a=0;for(c=b.length;a<c;++a)b[a].parent=this},iterN:function(a,b,c){for(b=a+b;a<b;++a)if(c(this.lines[a]))return!0}};$a.prototype={chunkSize:function(){return this.size},remove:function(a,b,c){this.size-=b;for(var d=0;d<this.children.length;++d){var e=this.children[d],g=e.chunkSize();if(a<g){var h=Math.min(b,g-a),l=e.height;e.remove(a,h,c);this.height-=l-e.height;if(g==h)this.children.splice(d--,1),e.parent=null;if(0==(b-=h))break;a=0}else a-=g}if(25>
this.size-b)a=[],this.collapse(a),this.children=[new ab(a)]},collapse:function(a){for(var b=0,c=this.children.length;b<c;++b)this.children[b].collapse(a)},insert:function(a,b){for(var c=0,d=0,e=b.length;d<e;++d)c+=b[d].height;this.insertHeight(a,b,c)},insertHeight:function(a,b,c){this.size+=b.length;this.height+=c;for(var d=0,e=this.children.length;d<e;++d){var g=this.children[d],h=g.chunkSize();if(a<=h){g.insertHeight(a,b,c);if(g.lines&&50<g.lines.length){for(;50<g.lines.length;)a=g.lines.splice(g.lines.length-
25,25),a=new ab(a),g.height-=a.height,this.children.splice(d+1,0,a),a.parent=this;this.maybeSpill()}break}a-=h}},maybeSpill:function(){if(!(10>=this.children.length)){var a=this;do{var b=a.children.splice(a.children.length-5,5),b=new $a(b);if(a.parent){a.size-=b.size;a.height-=b.height;var c=La(a.parent.children,a);a.parent.children.splice(c+1,0,b)}else c=new $a(a.children),c.parent=a,a.children=[c,b],a=c;b.parent=a.parent}while(10<a.children.length);a.parent.maybeSpill()}},iter:function(a,b,c){this.iterN(a,
b-a,c)},iterN:function(a,b,c){for(var d=0,e=this.children.length;d<e;++d){var g=this.children[d],h=g.chunkSize();if(a<h){h=Math.min(b,h-a);if(g.iterN(a,h,c))return!0;if(0==(b-=h))break;a=0}else a-=h}}};Gb.prototype={addChange:function(a,b,c){this.undone.length=0;var d=+new Date,e=this.done[this.done.length-1];if(400<d-this.time||!e||e.start>a+b||e.start+e.added<a-e.added+e.old.length)this.done.push({start:a,added:b,old:c});else{var g=0;if(a<e.start){for(var h=e.start-a-1;0<=h;--h)e.old.unshift(c[h]);
e.added+=e.start-a;e.start=a}else e.start<a&&(g=a-e.start,b+=g);h=e.added-g;for(a=c.length;h<a;++h)e.old.push(c[h]);if(e.added<b)e.added=b}this.time=d}};l.e_stop=Ia;l.e_preventDefault=z;l.e_stopPropagation=Na;l.connect=o;Eb.prototype={set:function(a,b){clearTimeout(this.id);this.id=setTimeout(b,a)}};var ic;ic=/MSIE [1-8]\b/.test(navigator.userAgent)?!1:"draggable"in document.createElement("div");var yb=/gecko\/\d{7}/i.test(navigator.userAgent),Ba=/MSIE \d/.test(navigator.userAgent),Cb=/WebKit\//.test(navigator.userAgent);
(function(){var a=document.createElement("textarea");a.value="foo\nbar";a.value.indexOf("\r")})();null!=document.documentElement.getBoundingClientRect&&(la=function(a,b){try{var c=a.getBoundingClientRect(),c={top:c.top,left:c.left}}catch(d){c={top:0,left:0}}if(!b)if(null==window.pageYOffset){var e=document.documentElement||document.body.parentNode;if(null==e.scrollTop)e=document.body;c.top+=e.scrollTop;c.left+=e.scrollLeft}else c.top+=window.pageYOffset,c.left+=window.pageXOffset;return c});var T=
document.createElement("pre");"\na"==Y("a")?Y=function(a){T.textContent=a;return T.innerHTML.slice(1)}:"\t"!=Y("\t")&&(Y=function(a){T.innerHTML="";T.appendChild(document.createTextNode(a));return T.innerHTML});l.htmlEscape=Y;var ua=3!="\n\nb".split(/\n/).length?function(a){for(var b=0,c,d=[];-1<(c=a.indexOf("\n",b));)d.push(a.slice(b,"\r"==a.charAt(c-1)?c-1:c)),b=c+1;d.push(a.slice(b));return d}:function(a){return a.split(/\r?\n/)};l.splitLines=ua;var nc=window.getSelection?function(a){try{return a.selectionStart!=
a.selectionEnd}catch(b){return!1}}:function(a){try{var b=a.ownerDocument.selection.createRange()}catch(c){}return!b||b.parentElement()!=a?!1:0!=b.compareEndPoints("StartToEnd",b)};l.defineMode("null",function(){return{token:function(a){a.skipToEnd()}}});l.defineMIME("text/plain","null");var V={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",
45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};l.keyNames=V;(function(){for(var a=0;10>a;a++)V[a+48]=""+a;for(a=65;90>=a;a++)V[a]=String.fromCharCode(a);for(a=1;12>=a;a++)V[a+111]=V[a+63235]="F"+a})();return l}();
